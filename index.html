<!DOCTYPE html>
<meta charset='UTF-8'>

<head>
  <link rel="stylesheet" href="reveal.js/dist/reset.css">
  <link rel="stylesheet" href="reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="reveal.js/dist/theme/black.css" id="theme">
  <link rel="stylesheet" href="highlightjs/dracula.css">
  <script src="reveal.js/dist/reveal.js"></script>
  <script src="reveal.js/plugin/markdown/markdown.js"></script>
  <script src="reveal.js/plugin/notes/notes.js"></script>
  <script src="reveal.js/plugin/highlight/highlight.js"></script>
  <script src="jquery/jquery.js"></script>
  <script src="jquery-visible/jquery.visible.js"></script>
  <style>
    .boo {
      width: 100px;
      height: 100px;
    }

    .headline {
      text-align: left;
      margin-bottom: 0px;
    }

    .subheadline {
      text-align: left;
      margin-top: 0px;
      margin-bottom: 0px;
      font-size: 0px;
    }

    .reveal code {
      font-family: "Fira Code", "Consolas";
    }

    .reveal .errcode {
      color: red !important;
    }

    #dog-div {
      display: flex;
      flex-flow: column;
      justify-content: center;
      align-items: center;
      align-content: center;
      width: 200px;
      overflow: auto;
    }
    #dog-div::before {
        content: " ";
        border: solid 5px white;
        border-right: 0px;
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: .4em;
        right: 0;
    }
    #dog-div::after {
      content: " ";
      border: solid 5px white;
      border-left: 0px;
      position: absolute;
      right: 0;
      top: 0;
      bottom: 0;
      width: .4em;
      right: 0;
    }
    #dog-div.left {
      position: absolute;
      top: 00px;
      left: 300px;
    }
    #dog-div.right {
      position: absolute;
      top: 00px;
      left: 800px;
    }
    #dog-div img {
      height: 100px;
      margin: 10px 0px 10px 0px;
    }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section class='center'>
        <h1>{sarcasm}</h1>
      </section>
      <section class='center'>
        <h1>{mocker}</h1>
      </section>
      <section>
        <h1>Testing boo</h1>
        <div class='boobox'>
          <img class='boo'
            src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
          <p>Test text</p>
        </div>
      </section>
      <section data-markdown data-separator="===" data-separator-vertical="---">
        ## What the heck is this
        A paragraph with some text and a [link](http://hakim.se).
        ```r
        library(dplyr)
        a = function() {}
        Sys.info()
        # This is a comment
        ```
        ===
        ## Outline

        Something for everyone

        * Beginner: Functionals -- `lapply`
        * Intermediate: Error handling
        * Advanced: Python-in-R package integration
      </section>
      <section>
        <section >
          <h2>Functionals</h2>
          <code>lapply</code>
          <p style='position: relative; top: 3em;'>
            Functions that accept a function as an argument, and return a vector
          </p>
        </section>
        <section style='text-align: left;'>
          <code>lapply</code>
          <p>Function "<code>b</code>"</p>
          <div style='position: relative; top: 100px; height: 500px'>
            <h1 style='position: relative; top: 50px;margin-bottom: 15%;'>
              <code>üêù(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</code> =
            </h1>
            <img class='fragment' src='https://www.loveyourdog.com/wp-content/uploads/2019/04/golden-retriever-900x500.jpg' style='
            position: absolute;
            top: -20px;
            left: 220px;
            height: 240px;'>
            <img class='fragment' src='https://cdn4.littlethings.com/app/uploads/2016/03/dogbeesting_1-850x637.jpg' style='
            position: absolute;
            top: -20px;
            left: 820px;
            height: 240px;
            '>
          </div>
        </section>
        <section style='text-align: left;'>
          <code>lapply</code>
          <div style='position: relative; top: 100px;'>
            <h2 style='position: relative; top: 200px'>
              <code>lapply(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;, üêù)</code> =
            </h2>
          <div id='dog-div' class='left fragment'>
              <img src='https://www.loveyourdog.com/wp-content/uploads/2019/04/golden-retriever-900x500.jpg'>
              <img src='https://th.bing.com/th/id/OIP.S_sXMPnNg84FXkJOycsQOgHaFj?pid=Api&rs=1'>
              <img src='https://s.hdnux.com/photos/01/04/64/45/18041186/3/rawImage.jpg'>
              <img src='https://www.petguide.com/wp-content/uploads/2013/02/beagle-1.jpg'>
          </div>
          <div id='dog-div' class='right fragment'>
              <img src='https://cdn4.littlethings.com/app/uploads/2016/03/dogbeesting_1-850x637.jpg'>
              <img src='https://i.redd.it/ckpoyh0qp1qz.jpg'>
              <img src='https://dnl7t01l0fo05.cloudfront.net/wp-content/uploads/2016/10/cat-dog-beesting-5.png'>
              <img src='https://1.bp.blogspot.com/-l4Wf3sGC4Is/WTvVS7xeiYI/AAAAAAAAOFE/7s88AO64n9QcAJSzNH3aHijG0M3trr3hwCLcB/s1600/25c690866970751462c211cd5a021d5c.jpg'>
          </div>
          </div>
        </section>
        <section style='text-align: left;' data-transition="slide-in none">
          <p class='headline'><code>R: lapply</code></p>
          <pre><code class='r hljs' data-trim data-line-numbers="2|3|4|5|7">
sarcastic = function(text) {
    letters = strsplit(text, split = '')
    lEtTeRs = lapply(letters, FUN = function(each_vec_element){
        vec = lapply(each_vec_element, function(each_letter) {
            return(randcase()(each_letter))
        })
        return(paste0(vec, collapse = ''))
    })
    if (length(lEtTeRs) == 1) {
        return(lEtTeRs[[1]])
    } else {
        return(as.character(lEtTeRs))
    }
}
</code></pre>
        </section>
        <section style='text-align: left;' data-transition='none'>
          <p class='headline'><code>R: purrr</code></p>
          <pre><code class='r hljs' data-trim data-line-numbers="3,4">
sarcastic = function(text) {
    letters = strsplit(text, split = '')
    lEtTeRs = map(letters, function(each_vec_element){
        vec = map(each_vec_element, function(each_letter) {
            return(randcase()(each_letter))
        })
        return(paste0(vec, collapse = ''))
    })
    if (length(lEtTeRs) == 1) {
        return(lEtTeRs[[1]])
    } else {
        return(as.character(lEtTeRs))
    }
}
</code></pre>
        </section>
        <section style='text-align: left;'>
          <code>Python: List comprehension</code>
          <pre><code class='python hljs' data-trim data-line-numbers="2|3|4">
            text_split = split_characters(text)
            sarcastic_text = [''.join(
                    [randcase(char) for char in word]
                  ) for word in text_split]
            return(sarcastic_text)
          </code></pre>
        </section>
        <section style='text-align: left;'>
          <div class='boobox'>
            <code>Javascript: <span class='hljs-keyword'>for</span> loop</code>
            <img class='boo' style="position: absolute; left: 10%; top: 100%"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
            <img class='boo' style="position: absolute; left: 100%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
            <img class='boo' style="position: absolute; left: -10%; bottom: 20%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
          </div>
            <pre><code class='js hljs' data-trim>
                        textTransform = function (text) {
                        let result = '';

                        for (let letter of text) {
                          test = Math.round(Math.random())
                          if (test === 1) {
                            letter = letter.toUpperCase()
                            result += letter
                          } else {
                            letter = letter.toLowerCase()
                            result += letter
                          }
                        }
                          return result
                        }
            </code></pre>
        </section>
      </section>
      </section>
      <section>
        <section class='center' data-transition="slide-in fade-out">
          <h2>Error handling</h2>
        </section>
        <section data-markdown data-auto-animate data-auto-animate-duration=0.5 data-transition="fade-in slide-out">
          <script type='text/template'>
            ## Error handling

            Options:

            * `NULL` (default)
            * `recover`
            * `browser`
            * `traceback`
            * Something else ... ? <!-- .element: class="fragment" data-fragment-index="2" -->

            ```R <!-- .element: data-id='optserr'-->
            # Set special error handling behavior
            options(error = recover)
            ```
          </script>
        </section>
        <section data-transition="slide-in fade-out" data-auto-animate data-auto-animate-duration=0.5>
          <pre><code data-id='optserr' class='R hljs' data-trim>
            # Set special error handling behavior
            options(error = recover)
          </code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > recover

            function () {
              if (.isMethodsDispatchOn()) {
                tState <- tracingState(FALSE)
                on.exit(tracingState(tState))
              }
              calls <- sys.calls()
              from <- 0L
              ...
            } </code></pre>
          <pre class = 'fragment'><code class="R hljs" data-trim>
            options(show.error.messages = FALSE)
          </code></pre>
        </section>
        <section class="center" data-transition="fade-in slide-out">
          <p class="r-fit-text">ü§î</p>
        </section>
        <section>
          <h2>Sarcastic errors</h2>
          <pre><code data-trim class='r hljs' data-line-numbers="|9|2-8|3|4-5|7">
            sarcastic_errors = function(silent = FALSE) {
              sarc_err = function() {
                err = gsub(x = geterrmessage(),
                           pattern = '\\n(?!.*\\n)',
                           replacement = '',
                           perl = TRUE)
                message(sarcastic(err))
              }
              options(show.error.messages = FALSE, error = sarc_err)
              if (! silent) {
                message("To reset, restart your R session, or run the following:")
                message("options(show.error.messages = TRUE, error = NULL)")
              }
            }
          </code></pre>
          <aside class='notes'>
            * Load all
            * Create error using matrix
            * Debug sarcastic errors
            * Launch sarcastic errors
          </aside>
        </section>
        <section style="text-align: left;">
          <code>Sarcastic errors</code>
          <pre><code class="R hljs" data-trim>
            > a = matrix
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>erROr iN A[10] : ObjECt OF type 'cloSuRE' iS NoT SUbsetTABLE</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>ErROR in A[10] : OBJeCT OF tYpE 'cLosURe' Is noT SUbSeTTABle</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>erRoR in A[10] : objeCt of type 'ClOSuRe' IS NOT sUBSetTaBle</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <div class='boobox fragment'>
            <pre><code class='errcode text hljs'>ErRoR in a[10] : OBjeCT oF TYpe 'cLoSuRe' is nOt SUBsETtaBLE</code></pre>
            <img class='boo' style="position: absolute; left: -10%; bottom: -5%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
          </div>
        </section>
        <section>
          <!-- BLANK FOR PAUSE -->
        </section>
        <section class='center'>
          <h1><code>{praise}</code></h1>
        </section>
        <section>
          <p class='headline'><code>{praise}</code></p>
        </section>
        <section class='center'>
          <h2>Demoralizing errors</h2>
        </section>
        <section style="text-align: left;">
          <p style="margin-bottom: 0px;"><code>Demoralizing errors</code></p>
          <p style="margin-top: 0px; margin-bottom: 0px;"><code style="font-size: 50%;">Prank your friends</code></p>

        </section>
      </section> <!-- END PRESENTATION -->

    </div>
  </div>
  <script>
    Reveal.initialize({
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      hash: true,
      slideNumber: true,
      center: false
    });

    textTransform = function (text) {
      let result = '';

      for (let letter of text) {
        test = Math.round(Math.random())
        if (test === 1) {
          letter = letter.toUpperCase()
          result += letter
        } else {
          letter = letter.toLowerCase()
          result += letter
        }
      }
      return result
    }

    $(document).ready(function () {
      $(".boobox").mouseenter(function () {
        $("img").attr('src', '/assets/img/booleft.gif')
      });
      $(".boobox").mouseleave(function () {
        $("img").attr('src', '/assets/img/boo.png')
      });
      $(".boobox p, .boobox code").mouseenter(function () {
        $(this).data('defaultText', $(this).text())
        $(this).text(textTransform($(this).text()))
      });
      $(".boobox p, .boobox code").mouseleave(function () {
        $(this).text($(this).data("defaultText"))
      })
    });
  </script>
</body>