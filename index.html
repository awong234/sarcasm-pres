<!DOCTYPE html>
<meta charset='UTF-8'>

<head>
  <link rel="stylesheet" href="reveal.js/dist/reset.css">
  <link rel="stylesheet" href="reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="reveal.js/dist/theme/black.css" id="theme">
  <link rel="stylesheet" href="highlightjs/dracula.css">
  <script src="reveal.js/dist/reveal.js"></script>
  <script src="reveal.js/plugin/markdown/markdown.js"></script>
  <script src="reveal.js/plugin/notes/notes.js"></script>
  <script src="reveal.js/plugin/highlight/highlight.js"></script>
  <script src="jquery/jquery.js"></script>
  <script src="jquery-visible/jquery.visible.js"></script>
  <style>
    .boo {
      width: 100px;
      height: 100px;
    }

    @keyframes roll {
      0% {
        transform: rotate(0);
      }
      100% {
        transform: rotate(90);
      }
    }

    .headline {
      text-align: left;
      margin-bottom: 0px;
    }

    .subheadline {
      text-align: left;
      margin-top: 0px;
      margin-bottom: 0px;
      font-size: 0px;
    }

    .reveal code {
      font-family: "Fira Code", "Consolas";
    }

    .reveal .errcode {
      color: red !important;
    }

    #personnel-images {
      display: flex;           /* establish flex container */
      flex-direction: row;  /* stack flex items vertically */
      position: relative;
    }

    .personnel-image {
      height: 200px;
      margin-top: 0px !important;
      margin-bottom: 0px !important;
      /* flex-shrink: 3; */
    }

    .personnel-box {
      display: inline-block;
      position: relative;
      text-align: center;
      align-content: center;
      margin-left: 20px;
      margin-right: 20px;
      align-items: center;
      justify-content: center;
    }

    .name-text {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-weight: bold;
    }

    #dog-div {
      display: flex;
      flex-flow: column;
      justify-content: center;
      align-items: center;
      align-content: center;
      width: 200px;
      overflow: auto;
    }
    #dog-div::before {
        content: " ";
        border: solid 5px white;
        border-right: 0px;
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: .4em;
        right: 0;
    }
    #dog-div::after {
      content: " ";
      border: solid 5px white;
      border-left: 0px;
      position: absolute;
      right: 0;
      top: 0;
      bottom: 0;
      width: .4em;
      right: 0;
    }
    #dog-div.left {
      position: absolute;
      top: 00px;
      left: 300px;
    }
    #dog-div.right {
      position: absolute;
      top: 00px;
      left: 800px;
    }
    #dog-div img {
      height: 100px;
      margin: 10px 0px 10px 0px;
    }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section class='center'>
        <h1>{sarcasm}</h1>
      </section>
      <section class='center'>
        <pre><code class='R hljs' data-trim>
          > sarcastic("sample text")

          [1] sAmPle teXT
        </code></pre>
      </section>
      <section>
        <img src='https://i.kym-cdn.com/photos/images/newsfeed/001/252/994/032.jpg'>
      </section>
      <section class='center' data-transition="slide-in none">
        <h1>{mocker}</h1>
        <div id="whale-box" class='fragment'>
          <img id='docker-whale' src='assets/img/docker.png'>
        </div>
        <aside class='notes'>
          <h1>BECAUSE I'M SO THOUGHTFUL</h1>
        </aside>
      </section>
      <section class='center'>
        <blockquote>"That's because I'm SO thoughtful</blockquote>
        <div class='fragment'>
          <p>‚Üë</p>
          <p>sarcasm</p>
        </div>
      </section>
      <section>

      </section>
      <section style='margin: 0px;'> <!---->
        <div id='#personnel-images'>
          <div class="personnel-box">
            <img class='personnel-image' name="Jim Hester" src='https://www.jimhester.com/authors/jim/avatar_huc31f2231087c3b3c81ce37002edd3500_51204_250x250_fill_q90_lanczos_center.jpg'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="Noam Ross"  src='https://d33wubrfki0l68.cloudfront.net/8f6785a2001657307326dd1de236df8a8972355c/8d0b1/img/team/noam_ross.png'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="Dirk Eddelbuettel" src='https://pbs.twimg.com/profile_images/509888693478248448/rvqUa5YA.jpeg'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="Will Landau" src='https://avatars1.githubusercontent.com/u/1580860?s=460&u=9b14cae6929d15252528132aa529ed7c21642e9f&v=4'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="John Blischak" src='https://pbs.twimg.com/profile_images/1248266807644831744/4xmiA2Yj_400x400.jpg'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="G√°bor Cs√°rdi" src='https://avatars2.githubusercontent.com/u/660288?s=400&u=677db9b09ed7b9ca76a2fc24622a9ca433ce05d5&v=4'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="MikeFC (coolbutuseless)" src='https://pbs.twimg.com/profile_images/989812086241873920/yqpAScnS_400x400.jpg'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="Jeroen Ooms" src='https://avatars1.githubusercontent.com/u/216319?s=400&u=bfe086cade8ccec09d43f3f2e1bb3b6304dc7ec6&v=4'>
          </div>
          <div class="personnel-box">
            <img class='personnel-image' name="Tyler Morgan-Wall" src='https://pbs.twimg.com/profile_images/1225996483373273089/CqjN0Mbw_400x400.jpg'>
          </div>
          <aside class='notes'>
            <p>Inspirations</p>
            <p>I'm not any of these guys</p>
            <h2>The real heroes</h2>
          </aside>
        </div>
      </section>
      <section> <!--OUTLINE-->

      </section>
      <section>
        <section >
          <h2>Functionals</h2>
          <code>lapply</code>
          <p style='position: relative; top: 3em;'>
            Functions that accept a function as an argument, and return a vector
          </p>
        </section>
        <section style='text-align: left;'>
          <code>lapply</code>
          <p>Function "<code>b</code>"</p>
          <div style='position: relative; top: 100px; height: 500px'>
            <h1 style='position: relative; top: 50px;margin-bottom: 15%;'>
              <code>üêù(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</code> =
            </h1>
            <img class='fragment' src='https://www.loveyourdog.com/wp-content/uploads/2019/04/golden-retriever-900x500.jpg' style='
            position: absolute;
            top: -20px;
            left: 220px;
            height: 240px;'>
            <img class='fragment' src='https://cdn4.littlethings.com/app/uploads/2016/03/dogbeesting_1-850x637.jpg' style='
            position: absolute;
            top: -20px;
            left: 820px;
            height: 240px;
            '>
          </div>
        </section>
        <section style='text-align: left;'>
          <code>lapply</code>
          <div style='position: relative; top: 100px;'>
            <h2 style='position: relative; top: 200px'>
              <code>lapply(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;, üêù)</code> =
            </h2>
          <div id='dog-div' class='left fragment'>
              <img src='https://www.loveyourdog.com/wp-content/uploads/2019/04/golden-retriever-900x500.jpg'>
              <img src='https://th.bing.com/th/id/OIP.S_sXMPnNg84FXkJOycsQOgHaFj?pid=Api&rs=1'>
              <img src='https://s.hdnux.com/photos/01/04/64/45/18041186/3/rawImage.jpg'>
              <img src='https://www.petguide.com/wp-content/uploads/2013/02/beagle-1.jpg'>
          </div>
          <div id='dog-div' class='right fragment'>
              <img src='https://cdn4.littlethings.com/app/uploads/2016/03/dogbeesting_1-850x637.jpg'>
              <img src='https://i.redd.it/ckpoyh0qp1qz.jpg'>
              <img src='https://dnl7t01l0fo05.cloudfront.net/wp-content/uploads/2016/10/cat-dog-beesting-5.png'>
              <img src='https://1.bp.blogspot.com/-l4Wf3sGC4Is/WTvVS7xeiYI/AAAAAAAAOFE/7s88AO64n9QcAJSzNH3aHijG0M3trr3hwCLcB/s1600/25c690866970751462c211cd5a021d5c.jpg'>
          </div>
          </div>
        </section>
        <section style='text-align: left;' data-transition="slide-in none">
          <p class='headline'><code>R: lapply</code></p>
          <pre><code class='r hljs' data-trim data-line-numbers="2|3|4|5|7">
sarcastic = function(text) {
    letters = strsplit(text, split = '')
    lEtTeRs = lapply(letters, FUN = function(each_vec_element){
        vec = lapply(each_vec_element, function(each_letter) {
            return(randcase()(each_letter))
        })
        return(paste0(vec, collapse = ''))
    })
    if (length(lEtTeRs) == 1) {
        return(lEtTeRs[[1]])
    } else {
        return(as.character(lEtTeRs))
    }
}
</code></pre>
        </section>
        <section style='text-align: left;' data-transition='none'>
          <p class='headline'><code>R: purrr</code></p>
          <pre><code class='r hljs' data-trim data-line-numbers="3,4">
sarcastic = function(text) {
    letters = strsplit(text, split = '')
    lEtTeRs = map(letters, function(each_vec_element){
        vec = map(each_vec_element, function(each_letter) {
            return(randcase()(each_letter))
        })
        return(paste0(vec, collapse = ''))
    })
    if (length(lEtTeRs) == 1) {
        return(lEtTeRs[[1]])
    } else {
        return(as.character(lEtTeRs))
    }
}
</code></pre>
        </section>
        <section style='text-align: left;'>
          <code>Python: List comprehension</code>
          <pre><code class='python hljs' data-trim data-line-numbers="2|3|4">
            text_split = split_characters(text)
            sarcastic_text = [''.join(
                    [randcase(char) for char in word]
                  ) for word in text_split]
            return(sarcastic_text)
          </code></pre>
        </section>
        <section style='text-align: left;'>
          <div class='boobox'>
            <code>Javascript: <span class='hljs-keyword'>for</span> loop</code>
            <img class='boo' style="position: absolute; left: 10%; top: 100%"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
            <img class='boo' style="position: absolute; left: 100%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
            <img class='boo' style="position: absolute; left: -10%; bottom: 20%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
          </div>
            <pre><code class='js hljs' data-trim>
                        textTransform = function (text) {
                        let result = '';

                        for (let letter of text) {
                          test = Math.round(Math.random())
                          if (test === 1) {
                            letter = letter.toUpperCase()
                            result += letter
                          } else {
                            letter = letter.toLowerCase()
                            result += letter
                          }
                        }
                          return result
                        }
            </code></pre>
        </section>
      </section>
      </section>
      <section>
        <section class='center' data-transition="slide-in fade-out">
          <h2>Error handling</h2>
        </section>
        <section data-markdown data-auto-animate data-auto-animate-duration=0.5 data-transition="fade-in slide-out">
          <script type='text/template'>
            ## Error handling

            Options:

            * `NULL` (default)
            * `recover`
            * `browser`
            * `traceback`
            * Something else ... ? <!-- .element: class="fragment" data-fragment-index="2" -->

            ```R <!-- .element: data-id='optserr'-->
            # Set special error handling behavior
            options(error = recover)
            ```

            Note:
            ### Demo

            * Load all
            * Create error using matrix
            * Debug sarcastic errors
            * Launch sarcastic errors
          </script>
        </section>
        <section data-transition="slide-in fade-out" data-auto-animate data-auto-animate-duration=0.5>
          <pre><code data-id='optserr' class='R hljs' data-trim>
            # Set special error handling behavior
            options(error = recover)
          </code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > recover

            function () {
              if (.isMethodsDispatchOn()) {
                tState <- tracingState(FALSE)
                on.exit(tracingState(tState))
              }
              calls <- sys.calls()
              from <- 0L
              ...
            } </code></pre>
          <pre class = 'fragment'><code class="R hljs" data-trim>
            options(show.error.messages = FALSE)
          </code></pre>
        </section>
        <section class="center" data-transition="fade-in slide-out">
          <p class="r-fit-text">ü§î</p>
        </section>
        <section>
          <h2>Sarcastic errors</h2>
          <pre><code data-trim class='r hljs' data-line-numbers="|9|2-8|3|4-5|7">
            sarcastic_errors = function(silent = FALSE) {
              sarc_err = function() {
                err = gsub(x = geterrmessage(),
                           pattern = '\\n(?!.*\\n)',
                           replacement = '',
                           perl = TRUE)
                message(sarcastic(err))
              }
              options(show.error.messages = FALSE, error = sarc_err)
              if (! silent) {
                message("To reset, restart your R session, or run the following:")
                message("options(show.error.messages = TRUE, error = NULL)")
              }
            }
          </code></pre>
          <aside class='notes'>
            <h3>Code walkthrough</h3>
            <ul>
              <li>options uses custom function</li>
              <li>Pattern removes newline characters</li>
              <li>Message new error to console</li>
            </ul>
          </aside>
        </section>
        <section style="text-align: left;">
          <code>Sarcastic errors</code>
          <pre><code class="R hljs" data-trim>
            > a = matrix
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>erROr iN A[10] : ObjECt OF type 'cloSuRE' iS NoT SUbsetTABLE</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>ErROR in A[10] : OBJeCT OF tYpE 'cLosURe' Is noT SUbSeTTABle</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <pre class='fragment'><code class='errcode text hljs'>erRoR in A[10] : objeCt of type 'ClOSuRe' IS NOT sUBSetTaBle</code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            > a[10]</code></pre>
          <div class='boobox fragment'>
            <pre><code class='errcode text hljs'>ErRoR in a[10] : OBjeCT oF TYpe 'cLoSuRe' is nOt SUBsETtaBLE</code></pre>
            <img class='boo' style="position: absolute; left: -10%; bottom: -5%;"
              src='http://vignette1.wikia.nocookie.net/brutalmario/images/7/7c/Boo.png/revision/latest?cb=20150617073957'>
          </div>
        <aside class='notes'>
          <h1>Ask if anyone knows result of command</h1>
        </aside>
        </section>
        <section>
          <!-- BLANK FOR PAUSE -->
          <aside class="notes">
            <h1>That's fun; what else can we do?</h1>
          </aside>
        </section>
        <section class='center'>
          <h1><code>{praise}</code></h1>
        </section>
        <section>
          <p class='headline'><code>{praise}</code></p>
          <pre><code class="R hljs" data-trim>
            > praise::praise("You are a ${adjective} student!")

            [1] "You are a marvelous student!"
          </code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
              > praise::praise("${exclamation}, ${creating} this ${rpackage} must have been tough!")
          </code></pre>
          <pre class='fragment'><code class="R hljs" data-trim>
            [1] "hooray, making this software must have been tough!"
          </code></pre>

        </section>
        <section class='center'>
          <h2>Demoralizing errors</h2>
        </section>
        <section style="text-align: left;">
          <p style="margin-bottom: 0px;"><code>Demoralizing errors</code></p>
          <p style="margin-top: 0px; margin-bottom: 0px;"><code style="font-size: 50%;">Prank your friends</code></p>
          <ol>
            <li>
              Download <code>{sarcasm}</code>
                <pre><code class="R hljs" style="font-size: 60%; width: 600px;">remotes::install_github("https://github.com/awong234/sarcasm")</code></li>
            </li>
            <li>
              Insert the following into their <code>.Rprofile</code>
            </li>
            <pre><code data-trim class="R hljs">
              options('ridicule_probability' = 0.01)
              sarcasm::demoralizing_errors(silent = TRUE)
            </code></pre>
            <li>
              Wait!
            </li>
            <aside class='notes'>
              <h1>Show demo</h1>
            </aside>
          </ol>
        </section>
      </section> <!-- END PRESENTATION -->

    </div>
  </div>
  <script>
    Reveal.initialize({
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      hash: true,
      slideNumber: true,
      center: false
    });

    textTransform = function (text) {
      let result = '';

      for (let letter of text) {
        test = Math.round(Math.random())
        if (test === 1) {
          letter = letter.toUpperCase()
          result += letter
        } else {
          letter = letter.toLowerCase()
          result += letter
        }
      }
      return result
    };

    $(document).ready(function () {

      // Handle booboxes & text casing randomization
      $(".boobox").mouseenter(function () {
        $("img").attr('src', '/assets/img/booleft.gif')
      });
      $(".boobox").mouseleave(function () {
        $("img").attr('src', '/assets/img/boo.png')
      });
      $(".boobox p, .boobox code").mouseenter(function () {
        $(this).data('defaultText', $(this).text())
        $(this).text(textTransform($(this).text()))
      });
      $(".boobox p, .boobox code").mouseleave(function () {
        $(this).text($(this).data("defaultText"))
      })

      //Handle name overlay
      $('.personnel-image').mouseenter(function() {
        $(this).css("opacity", "0.2")
        console.log('Add text')
        $(this).parent().append(`<p class='name-text'>${$(this).attr('name')}</p>`)
      })
      $('.personnel-image').mouseleave(function() {
        $(this).css("opacity", "1")
        console.log('Remove text')
        $(this).parent().find("p").remove()
      })

      // Handle docker whale rotation
      $('#whale-box').click(function() {
        $("#docker-whale").animate(
        {deg: 180}, {
          duration: 500,
          step: function(now) {
            $(this).css("transform", `rotate(${now}deg`)
          },
          complete: function() {
            function randn_bm() {
              var u = 0, v = 0;
              while (u === 0) u = Math.random(); //Converting [0,1) to (0,1)
              while (v === 0) v = Math.random();
              return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
            }
            $(this).attr("src", "assets/img/whale_no_blocks.png").css("transform", "rotate(180deg)")
            for (i=1; i<10; i++) {
              $("#whale-box")
                .append(`<img id='block-${i}'src='assets/img/block.png'>`)
            }
            $("#block-1")
              .css('position', 'absolute')
              .css('bottom', '163px')
              .css("right", "337px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now / 2}deg`).css("transform", `translate(0, ${now})`) } })
            $("#block-2")
              .css('position', 'absolute')
              .css('bottom', '163px')
              .css("right", "378px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`).css("transform", `translate(0, ${now})`) } })
            $("#block-3")
              .css('position', 'absolute')
              .css('bottom', '163px')
              .css("right", "419px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-4")
              .css('position', 'absolute')
              .css('bottom', '163px')
              .css("right", "460px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-5")
              .css('position', 'absolute')
              .css('bottom', '163px')
              .css("right", "501px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-6")
              .css('position', 'absolute')
              .css('bottom', '124px')
              .css("right", "460px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-7")
              .css('position', 'absolute')
              .css('bottom', '124px')
              .css("right", "419px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-8")
              .css('position', 'absolute')
              .css('bottom', '124px')
              .css("right", "378px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
            $("#block-9")
              .css('position', 'absolute')
              .css('bottom', '85px')
              .css("right", "460px")
              .animate({ deg: 360, top: randn_bm() * 5 + 1000 }, { duration: randn_bm() * 5 + 1000, step: function (now) { $(this).css("transform", `rotate(${now/2}deg`) } })
          }
        }
      );
      });
    });

  </script>
</body>